@import 'typography';
@import 'variables';

th {
  @include fontBold();
}

$table-border-mixin: $table-border-width solid $table-border-color;

.table .row {
  margin: 0;
}

.table caption {
  caption-side: top;
  border-top: $table-border-mixin;
  border-left: $table-border-mixin;
  border-right: $table-border-mixin;
  vertical-align: middle;

  h6 {
    line-height: $theme-table-caption-line-height;
  }
}

.table thead th {
  vertical-align: middle;
  text-align: left;
  padding-top: $spacer-y;
  padding-bottom: $spacer-y;
}

.table th, .table td {
  vertical-align: middle;
}

tbody.ng-invalid {
  background: mix($brand-danger, transparent);
}

.table-outer-bordered {
  border: $table-border-mixin;

  &.ng-invalid {
    border-color: $brand-danger;
  }

  thead {
    th,
    td {
      border-bottom: (2 * $table-border-width) solid $table-border-color;
    }
  }
}

table td.has-badges {
  padding-bottom: $table-cell-padding - $theme-badge-spacing;
}
table.table-sm td.has-badges {
  padding-bottom: $table-sm-cell-padding - $theme-badge-spacing;
}
td .badge, label + div > .badge {
  margin-bottom: $theme-badge-spacing;
}

$min_text_size: $font-size-base * $input-line-height + 2 * $spacer-y;

table textarea {
  min-height: $min_text_size;
  height: $min_text_size;
}

.btn-table {
  padding: $spacer-sm;
  font-size: $font-size-sm;
  line-height: 1;
  box-shadow: none;
  text-align: center;

  &:before {
    font-size: 0.9rem;
  }
}

.th-info {
  cursor: pointer;
  position: relative;

  &:after {
    background: $brand-info;
    color: $badge-color;
    border-radius: $border-radius;
    padding: 0 $badge-pill-padding-x;
    content: 'i';
    font-size: $font-size-xs;
  }

  .th-info-content {
    position: absolute;
    top: $spacer-y / 2;
    left: 100%;
    margin-left: -$spacer-x / 2;
    display: none;
    padding: $spacer-y / 2 $spacer-x / 2;
    border: $table-border-color solid $table-border-width;
    background: $brand-info;
    color: $badge-color;
    box-shadow: $theme-card-shadow;
    white-space: nowrap;
    z-index: $zindex-tooltip;
  }

  &:hover {
    .th-info-content {
      display: block;
    }
  }
}

/**
NGX-data table styles
 */
.table {
  .datatable-header-cell,
  .datatable-body-cell  {
    padding: $table-cell-padding;
    vertical-align: middle; // custom
    border-top: $table-border-width solid $table-border-color;
  }

  .datatable-header-cell {
    padding-top: $spacer-y; // custom
    padding-bottom: $spacer-y; // custom
    border-bottom: (2 * $table-border-width) solid $table-border-color;
  }
}
.table-sm {
  .datatable-header-cell,
  .datatable-body-cell {
    padding: $table-sm-cell-padding;
  }
}
.table-bordered {
  .datatable-header-cell,
  .datatable-body-cell {
    border: $table-border-width solid $table-border-color;
  }

  .datatable-header-cell {
    border-bottom-width: (2 * $table-border-width);
  }
}
.table-striped {
  .datatable-row-odd {
    background-color: $table-bg-accent;
  }
}
.thead-inverse {
  .datatable-header-cell {
    color: $table-inverse-color;
    background-color: $table-inverse-bg;
  }
}

.thead-default {
  .datatable-header-cell {
    color: $table-head-color;
    background-color: $table-head-bg;
  }
}
.table-outer-bordered {
  &.ng-invalid {
    border-color: $brand-danger;
  }

  .datatable-header-cell {
    border-bottom: (2 * $table-border-width) solid $table-border-color;
  }
}
.datatable-header-cell {
  @include fontBold();
}
/*
Sortable rows need an default icon so that user is aware which columns are sortable
Using icon from the same set as the rest of the table (@swimlane/ngx-datatable/release/assets/icons.css)
*/
ngx-datatable datatable-header datatable-header-cell.sortable .sort-btn:not(.sort-asc):not(.sort-desc):before {
  content: "\f079";
  font-family: 'themeicons';
}
